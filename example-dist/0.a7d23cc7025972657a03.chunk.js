webpackJsonp([0],{zOuy:function(n,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=l("LMZF"),o=function(){},r=l("pvRN"),u=l("j5BN"),i=l("Ioj9"),a=l("ulOE"),c=l("Lpd/"),s=l("SlD5"),d=l("V8+5"),f=l("0nO6"),p=l("0bRs"),_=l("l6RC"),h=l("RyBE"),m=l("Un6q"),b=e._1({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:translate(-50%,-50%) rotate(-90deg);top:50%;left:50%;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.1%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.01%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.01%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function g(n){return e._25(2,[(n()(),e._3(0,0,null,null,1,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),(n()(),e._3(1,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"transform","rotate"],[4,"stroke-width","px"]],null,null,null,null))],null,function(n,t){var l=t.component;n(t,0,0,l._elementSize,l._elementSize,l._viewBox),n(t,1,0,l._circleRadius,"mat-progress-spinner-stroke-rotate-"+l.diameter,l._strokeDashOffset,l._strokeCircumference,"360deg",l.strokeWidth)})}var y=function(){return function(){this.query="",this.searching=!1,this.error="",this.search=new e.m}}(),O=e._1({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%] {\n      display: flex;\n      justify-content: center;\n    }\n\n    mat-card-footer[_ngcontent-%COMP%] {\n      color: #FF0000;\n      padding: 5px 0;\n    }\n\n    .mat-form-field[_ngcontent-%COMP%] {\n      min-width: 300px;\n    }\n\n    .mat-spinner[_ngcontent-%COMP%] {\n      position: relative;\n      top: 10px;\n      left: 10px;\n      opacity: 0.0;\n      padding-left: 60px; // Make room for the spinner\n    }\n\n    .mat-spinner.show[_ngcontent-%COMP%] {\n      opacity: 1.0;\n    }"],data:{}});function k(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e._23(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.error)})}function v(n){return e._25(0,[(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(1,0,null,null,39,"mat-card",[["class","mat-card"]],null,null,null,r.d,r.a)),e._2(2,16384,null,0,u.r,[],null,null),e._2(3,49152,null,0,i.a,[],null,null),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(5,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e._2(6,16384,null,0,u.r,[],null,null),e._2(7,16384,null,0,i.i,[],null,null),(n()(),e._23(-1,null,["Find a Book"])),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(10,0,null,0,23,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e._2(11,16384,null,0,u.r,[],null,null),e._2(12,16384,null,0,i.c,[],null,null),(n()(),e._23(-1,null,["\n        "])),(n()(),e._3(14,0,null,null,14,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,a.b,a.a)),e._2(15,7389184,null,6,c.a,[e.k,e.B,e.h,[2,u.h]],null,null),e._21(335544320,1,{_control:0}),e._21(335544320,2,{_placeholderChild:0}),e._21(603979776,3,{_errorChildren:1}),e._21(603979776,4,{_hintChildren:1}),e._21(603979776,5,{_prefixChildren:1}),e._21(603979776,6,{_suffixChildren:1}),e._2(22,16384,null,0,u.r,[],null,null),(n()(),e._23(-1,1,["\n          "])),(n()(),e._3(24,0,null,1,3,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Search for a book"]],[[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],function(n,t,l){var o=!0,r=n.component;return"blur"===t&&(o=!1!==e._14(n,25)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==e._14(n,25)._focusChanged(!0)&&o),"input"===t&&(o=!1!==e._14(n,25)._onInput()&&o),"keyup"===t&&(o=!1!==r.search.emit(l.target.value)&&o),o},null,null)),e._2(25,933888,null,0,s.a,[e.k,e.B,d.a,[8,null],[2,f.m],[2,f.h],u.c],{placeholder:[0,"placeholder"],value:[1,"value"]},null),e._2(26,16384,null,0,u.r,[],null,null),e._19(2048,[[1,4]],c.b,null,[s.a]),(n()(),e._23(-1,1,["\n        "])),(n()(),e._23(-1,null,["\n        "])),(n()(),e._3(30,0,null,null,2,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"show",null],[4,"width","px"],[4,"height","px"]],null,null,g,b)),e._2(31,16384,null,0,u.r,[],null,null),e._2(32,573440,null,0,p.c,[e.B,e.k,d.a,[2,m.d]],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null),(n()(),e._23(-1,null,["\n      "])),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(35,0,null,1,4,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),e._2(36,16384,null,0,u.r,[],null,null),e._2(37,16384,null,0,i.d,[],null,null),(n()(),e.Y(16777216,null,null,1,null,k)),e._2(39,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,0,["\n    "])),(n()(),e._23(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,25,0,"Search for a book",l.query),n(t,32,0,30,3),n(t,39,0,l.error)},function(n,t){var l=t.component;n(t,14,1,[e._14(t,15)._control.errorState,e._14(t,15)._control.errorState,e._14(t,15)._canPlaceholderFloat,e._14(t,15)._control.shouldPlaceholderFloat||e._14(t,15)._shouldAlwaysFloat,e._14(t,15)._control.focused,"primary"==e._14(t,15).color,"accent"==e._14(t,15).color,"warn"==e._14(t,15).color,e._14(t,15)._shouldForward("untouched"),e._14(t,15)._shouldForward("touched"),e._14(t,15)._shouldForward("pristine"),e._14(t,15)._shouldForward("dirty"),e._14(t,15)._shouldForward("valid"),e._14(t,15)._shouldForward("invalid"),e._14(t,15)._shouldForward("pending")]),n(t,24,0,e._14(t,25).id,e._14(t,25).placeholder,e._14(t,25).disabled,e._14(t,25).required,e._14(t,25).readonly,e._14(t,25)._ariaDescribedby||null,e._14(t,25).errorState),n(t,30,0,l.searching,e._14(t,32)._elementSize,e._14(t,32)._elementSize)})}var j=function(){function n(){}return n.prototype.transform=function(n,t){void 0===t&&(t=250);var l=n.replace(/(<([^>]+)>)/gi,"");return n.length>=t?l.slice(0,t)+"...":l},n}(),B=l("UHIZ"),x=function(){function n(){}return n.prototype.transform=function(n){if(!n)return"Author Unknown";switch(n.length){case 0:return"Author Unknown";case 1:return n[0];case 2:return n.join(" and ");default:var t=n[n.length-1];return n.slice(0,-1).join(", ")+", and "+t}},n}(),w=l("dYU3"),C=function(){function n(){}return Object.defineProperty(n.prototype,"authors",{get:function(){return this.book.volumeInfo.authors},enumerable:!0,configurable:!0}),n}(),I=e._1({encapsulation:0,styles:["h5[_ngcontent-%COMP%] {\n      margin-bottom: 5px;\n    }"],data:{}});function M(n){return e._25(0,[e._17(0,x,[]),(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(2,0,null,null,2,"h5",[["class","mat-subheader"],["mat-subheader",""]],null,null,null,null,null)),e._2(3,16384,null,0,w.f,[],null,null),(n()(),e._23(-1,null,["Written By:"])),(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e._23(7,null,["\n      ","\n    "])),e._18(8,1),(n()(),e._23(-1,null,["\n  "]))],null,function(n,t){var l=t.component;n(t,7,0,e._24(t,7,0,n(t,8,0,e._14(t,0),l.authors)))})}var S=function(){function n(){}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail},enumerable:!0,configurable:!0}),n}(),P=e._1({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: flex;\n    }\n\n    [_nghost-%COMP%]   a[_ngcontent-%COMP%] {\n      display: flex;\n    }\n\n    mat-card[_ngcontent-%COMP%] {\n      width: 400px;\n      margin: 15px;\n      display: flex;\n      flex-flow: column;\n      justify-content: space-between;\n    }\n\n    @media only screen and (max-width: 768px) {\n      mat-card[_ngcontent-%COMP%] {\n        margin: 15px 0 !important;\n      }\n    }\n    mat-card[_ngcontent-%COMP%]:hover {\n      box-shadow: 3px 3px 16px -2px rgba(0, 0, 0, .5);\n    }\n    mat-card-title[_ngcontent-%COMP%] {\n      margin-right: 10px;\n    }\n    mat-card-title-group[_ngcontent-%COMP%] {\n      margin: 0;\n    }\n    a[_ngcontent-%COMP%] {\n      color: inherit;\n      text-decoration: none;\n    }\n    img[_ngcontent-%COMP%] {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    mat-card-content[_ngcontent-%COMP%] {\n      margin-top: 15px;\n      margin: 15px 0 0;\n    }\n    span[_ngcontent-%COMP%] {\n      display: inline-block;\n      font-size: 13px;\n    }\n    mat-card-footer[_ngcontent-%COMP%] {\n      padding: 0 25px 25px;\n    }"],data:{}});function F(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),e._2(1,16384,null,0,i.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function $(n){return e._25(0,[(n()(),e._3(0,0,null,null,4,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),e._2(1,16384,null,0,u.r,[],null,null),e._2(2,16384,null,0,i.h,[],null,null),(n()(),e._23(3,null,["",""])),e._18(4,2)],null,function(n,t){var l=t.component;n(t,3,0,e._24(t,3,0,n(t,4,0,e._14(t.parent,0),l.subtitle,40)))})}function A(n){return e._25(0,[(n()(),e._3(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),e._23(1,null,["",""])),e._18(2,1)],null,function(n,t){var l=t.component;n(t,1,0,e._24(t,1,0,n(t,2,0,e._14(t.parent,0),l.description)))})}function L(n){return e._25(0,[e._17(0,j,[]),(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(2,0,null,null,41,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var o=!0;return"click"===t&&(o=!1!==e._14(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&o),o},null,null)),e._2(3,671744,null,0,B.o,[B.m,B.a,m.h],{routerLink:[0,"routerLink"]},null),e._16(4,2),(n()(),e._23(-1,null,["\n      "])),(n()(),e._3(6,0,null,null,36,"mat-card",[["class","mat-card"]],null,null,null,r.d,r.a)),e._2(7,16384,null,0,u.r,[],null,null),e._2(8,49152,null,0,i.a,[],null,null),(n()(),e._23(-1,0,["\n        "])),(n()(),e._3(10,0,null,0,15,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,r.c,r.b)),e._2(11,16384,null,0,u.r,[],null,null),e._2(12,49152,null,0,i.j,[],null,null),(n()(),e._23(-1,2,["\n          "])),(n()(),e.Y(16777216,null,1,1,null,F)),e._2(15,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,2,["\n          "])),(n()(),e._3(17,0,null,0,4,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e._2(18,16384,null,0,u.r,[],null,null),e._2(19,16384,null,0,i.i,[],null,null),(n()(),e._23(20,null,["",""])),e._18(21,2),(n()(),e._23(-1,2,["\n          "])),(n()(),e.Y(16777216,null,0,1,null,$)),e._2(24,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,2,["\n        "])),(n()(),e._23(-1,0,["\n        "])),(n()(),e._3(27,0,null,0,6,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e._2(28,16384,null,0,u.r,[],null,null),e._2(29,16384,null,0,i.c,[],null,null),(n()(),e._23(-1,null,["\n          "])),(n()(),e.Y(16777216,null,null,1,null,A)),e._2(32,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,null,["\n        "])),(n()(),e._23(-1,0,["\n        "])),(n()(),e._3(35,0,null,1,6,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),e._2(36,16384,null,0,u.r,[],null,null),e._2(37,16384,null,0,i.d,[],null,null),(n()(),e._23(-1,null,["\n          "])),(n()(),e._3(39,0,null,null,1,"bc-book-authors",[],null,null,null,M,I)),e._2(40,49152,null,0,C,[],{book:[0,"book"]},null),(n()(),e._23(-1,null,["\n        "])),(n()(),e._23(-1,0,["\n      "])),(n()(),e._23(-1,null,["\n    "])),(n()(),e._23(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,n(t,4,0,"/books",l.id)),n(t,15,0,l.thumbnail),n(t,24,0,l.subtitle),n(t,32,0,l.description),n(t,40,0,l.book)},function(n,t){var l=t.component;n(t,2,0,e._14(t,3).target,e._14(t,3).href),n(t,20,0,e._24(t,20,0,n(t,21,0,e._14(t,0),l.title,35)))})}var E=function(){},R=e._1({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n    }"],data:{}});function N(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"bc-book-preview",[],null,null,null,L,P)),e._2(1,49152,null,0,S,[],{book:[0,"book"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function q(n){return e._25(0,[(n()(),e._23(-1,null,["\n    "])),(n()(),e.Y(16777216,null,null,1,null,N)),e._2(2,802816,null,0,m.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(n()(),e._23(-1,null,["\n  "]))],function(n,t){n(t,2,0,t.component.books)},null)}var X,Y=l("XEIg"),T=l("GROE");!function(n){n.Search="[Book] Search",n.SearchComplete="[Book] Search Complete",n.SearchError="[Book] Search Error",n.Load="[Book] Load",n.Select="[Book] Select"}(X||(X={}));var J=function(){return function(n){this.payload=n,this.type=X.Search}}(),z=function(){return function(n){this.payload=n,this.type=X.SearchComplete}}(),D=function(){return function(n){this.payload=n,this.type=X.SearchError}}(),Z=function(){return function(n){this.payload=n,this.type=X.Load}}(),W=function(){return function(n){this.payload=n,this.type=X.Select}}(),U=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},G={ids:[],loading:!1,error:"",query:""};function K(n,t){switch(void 0===n&&(n=G),t.type){case X.Search:var l=t.payload;return""===l?{ids:[],loading:!1,error:"",query:l}:U({},n,{loading:!0,error:"",query:l});case X.SearchComplete:return{ids:t.payload.map(function(n){return n.id}),loading:!1,error:"",query:n.query};case X.SearchError:return U({},n,{loading:!1,error:t.payload});default:return n}}var Q=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},H=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}({});function V(n){return function(t,l){var e={ids:l.ids.slice(),entities:Q({},l.entities)},o=n(t,e);return o===H.Both?Object.assign({},l,e):o===H.EntitiesOnly?Q({},l,{entities:e.entities}):l}}var nn=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n};function tn(n){function t(t,l){var e=n(t);return e in l.entities?H.None:(l.ids.push(e),l.entities[e]=t,H.Both)}function l(n,l){for(var e=!1,o=0,r=n;o<r.length;o++)e=t(r[o],l)!==H.None||e;return e?H.Both:H.None}function e(n,t){var l=n.filter(function(n){return n in t.entities}).map(function(n){return delete t.entities[n]}).length>0;return l&&(t.ids=t.ids.filter(function(n){return n in t.entities})),l?H.Both:H.None}function o(t,l){var e={};return(t=t.filter(function(n){return n.id in l.entities})).length>0?t.filter(function(t){return function(t,l,e){var o=Object.assign({},e.entities[l.id],l.changes),r=n(o),u=r!==l.id;return u&&(t[l.id]=r,delete e.entities[l.id]),e.entities[r]=o,u}(e,t,l)}).length>0?(l.ids=l.ids.map(function(n){return e[n]||n}),H.Both):H.EntitiesOnly:H.None}function r(n,t){for(var e=[],r=[],u=0,i=n;u<i.length;u++){var a=i[u];a.id in t.entities?r.push(a):e.push(nn({},a.changes,{id:a.id}))}var c=o(r,t),s=l(e,t);switch(!0){case s===H.None&&c===H.None:return H.None;case s===H.Both||c===H.Both:return H.Both;default:return H.EntitiesOnly}}return{removeAll:function(n){return Object.assign({},n,{ids:[],entities:{}})},addOne:V(t),addMany:V(l),addAll:V(function(n,t){return t.ids=[],t.entities={},l(n,t),H.Both}),updateOne:V(function(n,t){return o([n],t)}),updateMany:V(o),upsertOne:V(function(n,t){return r([n],t)}),upsertMany:V(r),removeOne:V(function(n,t){return e([n],t)}),removeMany:V(e)}}var ln,en=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},on=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n};!function(n){n.AddBook="[Collection] Add Book",n.AddBookSuccess="[Collection] Add Book Success",n.AddBookFail="[Collection] Add Book Fail",n.RemoveBook="[Collection] Remove Book",n.RemoveBookSuccess="[Collection] Remove Book Success",n.RemoveBookFail="[Collection] Remove Book Fail",n.Load="[Collection] Load",n.LoadSuccess="[Collection] Load Success",n.LoadFail="[Collection] Load Fail"}(ln||(ln={}));var rn=function(){return function(n){this.payload=n,this.type=ln.AddBook}}(),un=function(){return function(n){this.payload=n,this.type=ln.AddBookSuccess}}(),an=function(){return function(n){this.payload=n,this.type=ln.AddBookFail}}(),cn=function(){return function(n){this.payload=n,this.type=ln.RemoveBook}}(),sn=function(){return function(n){this.payload=n,this.type=ln.RemoveBookSuccess}}(),dn=function(){return function(n){this.payload=n,this.type=ln.RemoveBookFail}}(),fn=function(){return function(){this.type=ln.Load}}(),pn=function(){return function(n){this.payload=n,this.type=ln.LoadSuccess}}(),_n=function(){return function(n){this.payload=n,this.type=ln.LoadFail}}(),hn=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},mn=function(n){void 0===n&&(n={});var t=on({sortComparer:!1,selectId:function(n){return n.id}},n),l=t.selectId,e=t.sortComparer,o={getInitialState:function(n){return void 0===n&&(n={}),Object.assign({ids:[],entities:{}},n)}},r={getSelectors:function(n){var t=function(n){return n.ids},l=function(n){return n.entities},e=Object(Y.h)(t,l,function(n,t){return n.map(function(n){return t[n]})}),o=Object(Y.h)(t,function(n){return n.length});return n?{selectIds:Object(Y.h)(n,t),selectEntities:Object(Y.h)(n,l),selectAll:Object(Y.h)(n,e),selectTotal:Object(Y.h)(n,o)}:{selectIds:t,selectEntities:l,selectAll:e,selectTotal:o}}},u=e?function(n,t){var l=tn(n);function e(t,l){var e=t.filter(function(t){return!(n(t)in l.entities)});return 0===e.length?H.None:(u(e,l),H.Both)}function o(t,l){var e=[],o=t.filter(function(t){return function(t,l,e){if(!(l.id in e.entities))return!1;var o=Object.assign({},e.entities[l.id],l.changes),r=n(o);return delete e.entities[l.id],t.push(o),r!==l.id}(e,t,l)}).length>0;if(0===e.length)return H.None;var r=l.ids,i=[];return l.ids=l.ids.filter(function(n,t){return n in l.entities||(i.push(t),!1)}),u(e,l),!o&&i.every(function(n){return l.ids[n]===r[n]})?H.EntitiesOnly:H.Both}function r(n,t){for(var l=[],r=[],u=0,i=n;u<i.length;u++){var a=i[u];a.id in t.entities?r.push(a):l.push(en({},a.changes,{id:a.id}))}var c=o(r,t),s=e(l,t);switch(!0){case s===H.None&&c===H.None:return H.None;case s===H.Both||c===H.Both:return H.Both;default:return H.EntitiesOnly}}function u(l,e){l.sort(t);for(var o=[],r=0,u=0;r<l.length&&u<e.ids.length;){var i=l[r],a=n(i),c=e.ids[u];t(i,e.entities[c])<=0?(o.push(a),r++):(o.push(c),u++)}e.ids=o.concat(r<l.length?l.slice(r).map(n):e.ids.slice(u)),l.forEach(function(t,l){e.entities[n(t)]=t})}return{removeOne:l.removeOne,removeMany:l.removeMany,removeAll:l.removeAll,addOne:V(function(n,t){return e([n],t)}),updateOne:V(function(n,t){return o([n],t)}),upsertOne:V(function(n,t){return r([n],t)}),addAll:V(function(n,t){return t.entities={},t.ids=[],e(n,t),H.Both}),addMany:V(e),updateMany:V(o),upsertMany:V(r)}}(l,e):tn(l);return on({},o,r,u)}({selectId:function(n){return n.id},sortComparer:!1}),bn=mn.getInitialState({selectedBookId:null});function gn(n,t){switch(void 0===n&&(n=bn),t.type){case X.SearchComplete:case ln.LoadSuccess:return hn({},mn.addMany(t.payload,n),{selectedBookId:n.selectedBookId});case X.Load:return hn({},mn.addOne(t.payload,n),{selectedBookId:n.selectedBookId});case X.Select:return hn({},n,{selectedBookId:t.payload});default:return n}}var yn=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},On={loaded:!1,loading:!1,ids:[]};function kn(n,t){switch(void 0===n&&(n=On),t.type){case ln.Load:return yn({},n,{loading:!0});case ln.LoadSuccess:return{loaded:!0,loading:!1,ids:t.payload.map(function(n){return n.id})};case ln.AddBookSuccess:case ln.RemoveBookFail:return n.ids.indexOf(t.payload.id)>-1?n:yn({},n,{ids:n.ids.concat([t.payload.id])});case ln.RemoveBookSuccess:case ln.AddBookFail:return yn({},n,{ids:n.ids.filter(function(n){return n!==t.payload.id})});default:return n}}var vn=Object(Y.g)("books"),jn=Object(Y.h)(vn,function(n){return n.books}),Bn=Object(Y.h)(jn,function(n){return n.selectedBookId}),xn=mn.getSelectors(jn).selectEntities,wn=Object(Y.h)(xn,Bn,function(n,t){return t&&n[t]}),Cn=Object(Y.h)(vn,function(n){return n.search}),In=Object(Y.h)(Cn,function(n){return n.ids}),Mn=Object(Y.h)(Cn,function(n){return n.query}),Sn=Object(Y.h)(Cn,function(n){return n.loading}),Pn=Object(Y.h)(Cn,function(n){return n.error}),Fn=Object(Y.h)(xn,In,function(n,t){return t.map(function(t){return n[t]})}),$n=Object(Y.h)(vn,function(n){return n.collection}),An=Object(Y.h)($n,function(n){return n.loaded}),Ln=(Object(Y.h)($n,function(n){return n.loading}),Object(Y.h)($n,function(n){return n.ids})),En=Object(Y.h)(xn,Ln,function(n,t){return t.map(function(t){return n[t]})}),Rn=Object(Y.h)(Ln,Bn,function(n,t){return n.indexOf(t)>-1}),Nn=function(){function n(n){this.store=n,this.searchQuery$=n.pipe(Object(Y.i)(Mn),Object(T.i)(1)),this.books$=n.pipe(Object(Y.i)(Fn)),this.loading$=n.pipe(Object(Y.i)(Sn)),this.error$=n.pipe(Object(Y.i)(Pn))}return n.prototype.search=function(n){this.store.dispatch(new J(n))},n}(),qn=l("3Qa3"),Xn=e._1({encapsulation:2,styles:[],data:{}});function Yn(n){return e._25(2,[(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(1,0,null,null,4,"bc-book-search",[],null,[[null,"search"]],function(n,t,l){var e=!0;return"search"===t&&(e=!1!==n.component.search(l)&&e),e},v,O)),e._2(2,49152,null,0,y,[],{query:[0,"query"],searching:[1,"searching"],error:[2,"error"]},{search:"search"}),e._17(131072,m.b,[e.h]),e._17(131072,m.b,[e.h]),e._17(131072,m.b,[e.h]),(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(7,0,null,null,2,"bc-book-preview-list",[],null,null,null,q,R)),e._2(8,49152,null,0,E,[],{books:[0,"books"]},null),e._17(131072,m.b,[e.h]),(n()(),e._23(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,2,0,e._24(t,2,0,e._14(t,3).transform(l.searchQuery$)),e._24(t,2,1,e._14(t,4).transform(l.loading$)),e._24(t,2,2,e._14(t,5).transform(l.error$))),n(t,8,0,e._24(t,8,0,e._14(t,9).transform(l.books$)))},null)}var Tn=e.Z("bc-find-book-page",Nn,function(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"bc-find-book-page",[],null,null,null,Yn,Xn)),e._2(1,49152,null,0,Nn,[qn.b],null,null)],null,null)},{},{},[]),Jn=l("ESfO"),zn=l("ghl+"),Dn=l("8Xfy"),Zn=function(){function n(){this.add=new e.m,this.remove=new e.m}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail},enumerable:!0,configurable:!0}),n}(),Wn=e._1({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: flex;\n      justify-content: center;\n      margin: 75px 0;\n    }\n    mat-card[_ngcontent-%COMP%] {\n      max-width: 600px;\n    }\n    mat-card-title-group[_ngcontent-%COMP%] {\n      margin-left: 0;\n    }\n    img[_ngcontent-%COMP%] {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    mat-card-content[_ngcontent-%COMP%] {\n      margin: 15px 0 50px;\n    }\n    mat-card-actions[_ngcontent-%COMP%] {\n      margin: 25px 0 0 !important;\n    }\n    mat-card-footer[_ngcontent-%COMP%] {\n      padding: 0 25px 25px;\n      position: relative;\n    }"],data:{}});function Un(n){return e._25(0,[(n()(),e._3(0,0,null,null,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),e._2(1,16384,null,0,u.r,[],null,null),e._2(2,16384,null,0,i.h,[],null,null),(n()(),e._23(3,null,["",""]))],null,function(n,t){n(t,3,0,t.component.subtitle)})}function Gn(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),e._2(1,16384,null,0,i.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function Kn(n){return e._25(0,[(n()(),e._3(0,0,null,null,4,"button",[["class","mat-raised-button"],["color","warn"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;return"click"===t&&(e=!1!==o.remove.emit(o.book)&&e),e},Jn.b,Jn.a)),e._2(1,16384,null,0,u.r,[],null,null),e._2(2,180224,null,0,zn.b,[e.B,e.k,d.a,Dn.f],{color:[0,"color"]},null),e._2(3,16384,null,0,zn.f,[],null,null),(n()(),e._23(-1,0,["\n        Remove Book from Collection\n        "]))],function(n,t){n(t,2,0,"warn")},function(n,t){n(t,0,0,e._14(t,2).disabled||null)})}function Qn(n){return e._25(0,[(n()(),e._3(0,0,null,null,4,"button",[["class","mat-raised-button"],["color","primary"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;return"click"===t&&(e=!1!==o.add.emit(o.book)&&e),e},Jn.b,Jn.a)),e._2(1,16384,null,0,u.r,[],null,null),e._2(2,180224,null,0,zn.b,[e.B,e.k,d.a,Dn.f],{color:[0,"color"]},null),e._2(3,16384,null,0,zn.f,[],null,null),(n()(),e._23(-1,0,["\n        Add Book to Collection\n        "]))],function(n,t){n(t,2,0,"primary")},function(n,t){n(t,0,0,e._14(t,2).disabled||null)})}function Hn(n){return e._25(0,[(n()(),e._3(0,0,null,null,45,"mat-card",[["class","mat-card"]],null,null,null,r.d,r.a)),e._2(1,16384,null,0,u.r,[],null,null),e._2(2,49152,null,0,i.a,[],null,null),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(4,0,null,0,14,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,r.c,r.b)),e._2(5,16384,null,0,u.r,[],null,null),e._2(6,49152,null,0,i.j,[],null,null),(n()(),e._23(-1,2,["\n        "])),(n()(),e._3(8,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e._2(9,16384,null,0,u.r,[],null,null),e._2(10,16384,null,0,i.i,[],null,null),(n()(),e._23(11,null,["",""])),(n()(),e._23(-1,2,["\n        "])),(n()(),e.Y(16777216,null,0,1,null,Un)),e._2(14,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,2,["\n        "])),(n()(),e.Y(16777216,null,1,1,null,Gn)),e._2(17,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,2,["\n      "])),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(20,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e._2(21,16384,null,0,u.r,[],null,null),e._2(22,16384,null,0,i.c,[],null,null),(n()(),e._23(-1,null,["\n        "])),(n()(),e._3(24,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e._23(-1,null,["\n      "])),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(27,0,null,1,6,"mat-card-footer",[["class","footer mat-card-footer"]],null,null,null,null,null)),e._2(28,16384,null,0,u.r,[],null,null),e._2(29,16384,null,0,i.d,[],null,null),(n()(),e._23(-1,null,["\n        "])),(n()(),e._3(31,0,null,null,1,"bc-book-authors",[],null,null,null,M,I)),e._2(32,49152,null,0,C,[],{book:[0,"book"]},null),(n()(),e._23(-1,null,["\n      "])),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(35,0,null,0,9,"mat-card-actions",[["align","start"],["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),e._2(36,16384,null,0,u.r,[],null,null),e._2(37,16384,null,0,i.b,[],{align:[0,"align"]},null),(n()(),e._23(-1,null,["\n        "])),(n()(),e.Y(16777216,null,null,1,null,Kn)),e._2(40,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,null,["\n\n        "])),(n()(),e.Y(16777216,null,null,1,null,Qn)),e._2(43,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,null,["\n      "])),(n()(),e._23(-1,0,["\n    "]))],function(n,t){var l=t.component;n(t,14,0,l.subtitle),n(t,17,0,l.thumbnail),n(t,32,0,l.book),n(t,37,0,"start"),n(t,40,0,l.inCollection),n(t,43,0,!l.inCollection)},function(n,t){var l=t.component;n(t,11,0,l.title),n(t,24,0,l.description),n(t,35,0,"end"===e._14(t,37).align)})}function Vn(n){return e._25(0,[(n()(),e._23(-1,null,["\n    "])),(n()(),e.Y(16777216,null,null,1,null,Hn)),e._2(2,16384,null,0,m.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e._23(-1,null,["\n\n  "]))],function(n,t){n(t,2,0,t.component.book)},null)}var nt=function(){function n(n){this.store=n,this.book$=n.pipe(Object(Y.i)(wn)),this.isSelectedBookInCollection$=n.pipe(Object(Y.i)(Rn))}return n.prototype.addToCollection=function(n){this.store.dispatch(new rn(n))},n.prototype.removeFromCollection=function(n){this.store.dispatch(new cn(n))},n}(),tt=e._1({encapsulation:2,styles:[],data:{}});function lt(n){return e._25(2,[(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(1,0,null,null,4,"bc-book-detail",[],null,[[null,"add"],[null,"remove"]],function(n,t,l){var e=!0,o=n.component;return"add"===t&&(e=!1!==o.addToCollection(l)&&e),"remove"===t&&(e=!1!==o.removeFromCollection(l)&&e),e},Vn,Wn)),e._2(2,49152,null,0,Zn,[],{book:[0,"book"],inCollection:[1,"inCollection"]},{add:"add",remove:"remove"}),e._17(131072,m.b,[e.h]),e._17(131072,m.b,[e.h]),(n()(),e._23(-1,null,["\n    "])),(n()(),e._23(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,2,0,e._24(t,2,0,e._14(t,3).transform(l.book$)),e._24(t,2,1,e._14(t,4).transform(l.isSelectedBookInCollection$)))},null)}var et=function(){function n(n,t){this.actionsSubscription=t.params.pipe(Object(T.e)(function(n){return new W(n.id)})).subscribe(n)}return n.prototype.ngOnDestroy=function(){this.actionsSubscription.unsubscribe()},n}(),ot=e._1({encapsulation:2,styles:[],data:{}});function rt(n){return e._25(2,[(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(1,0,null,null,1,"bc-selected-book-page",[],null,null,null,lt,tt)),e._2(2,49152,null,0,nt,[qn.b],null,null),(n()(),e._23(-1,null,["\n  "]))],null,null)}var ut=e.Z("bc-view-book-page",et,function(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"bc-view-book-page",[],null,null,null,rt,ot)),e._2(1,180224,null,0,et,[qn.b,B.a],null,null)],null,null)},{},{},[]),it=function(){function n(n){this.store=n,this.books$=n.pipe(Object(Y.i)(En))}return n.prototype.ngOnInit=function(){this.store.dispatch(new fn)},n}(),at=e._1({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%] {\n      display: flex;\n      justify-content: center;\n    }"],data:{}});function ct(n){return e._25(2,[(n()(),e._23(-1,null,["\n    "])),(n()(),e._3(1,0,null,null,8,"mat-card",[["class","mat-card"]],null,null,null,r.d,r.a)),e._2(2,16384,null,0,u.r,[],null,null),e._2(3,49152,null,0,i.a,[],null,null),(n()(),e._23(-1,0,["\n      "])),(n()(),e._3(5,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e._2(6,16384,null,0,u.r,[],null,null),e._2(7,16384,null,0,i.i,[],null,null),(n()(),e._23(-1,null,["My Collection"])),(n()(),e._23(-1,0,["\n    "])),(n()(),e._23(-1,null,["\n\n    "])),(n()(),e._3(11,0,null,null,2,"bc-book-preview-list",[],null,null,null,q,R)),e._2(12,49152,null,0,E,[],{books:[0,"books"]},null),e._17(131072,m.b,[e.h]),(n()(),e._23(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,12,0,e._24(t,12,0,e._14(t,13).transform(l.books$)))},null)}var st=e.Z("bc-collection-page",it,function(n){return e._25(0,[(n()(),e._3(0,0,null,null,1,"bc-collection-page",[],null,null,null,ct,at)),e._2(1,114688,null,0,it,[qn.b],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),dt=l("4jwp"),ft=l("OFGE"),pt=l("vgc3"),_t=l("TMwh"),ht=l("GZB0"),mt=l("p1F6"),bt=function(){function n(n,t,l){this.store=n,this.googleBooks=t,this.router=l}return n.prototype.waitForCollectionToLoad=function(){return this.store.pipe(Object(Y.i)(An),Object(T.d)(function(n){return n}),Object(T.i)(1))},n.prototype.hasBookInStore=function(n){return this.store.pipe(Object(Y.i)(xn),Object(T.e)(function(t){return!!t[n]}),Object(T.i)(1))},n.prototype.hasBookInApi=function(n){var t=this;return this.googleBooks.retrieveBook(n).pipe(Object(T.e)(function(n){return new Z(n)}),Object(T.k)(function(n){return t.store.dispatch(n)}),Object(T.e)(function(n){return!!n}),Object(T.a)(function(){return t.router.navigate(["/404"]),Object(ht.a)(!1)}))},n.prototype.hasBook=function(n){var t=this;return this.hasBookInStore(n).pipe(Object(T.h)(function(l){return l?Object(ht.a)(l):t.hasBookInApi(n)}))},n.prototype.canActivate=function(n){var t=this;return this.waitForCollectionToLoad().pipe(Object(T.h)(function(){return t.hasBook(n.params.id)}))},n}(),gt=l("CZgk"),yt=l("e0rv"),Ot=l("YXpL"),kt=l("6lKZ"),vt=function(){},jt=function(){},Bt=l("cWaz"),xt=l("AV+0"),wt=l("cHe3"),Ct=l("kQVg"),It=l("6Xbx"),Mt=l("06wo"),St=l("AP4T"),Pt=l("XecN"),Ft=l("3m71"),$t=new e.o("Search Debounce"),At=new e.o("Search Scheduler"),Lt=function(){function n(n,t,l,e){var o=this;this.actions$=n,this.googleBooks=t,this.debounce=l,this.scheduler=e,this.search$=this.actions$.pipe(Object(Mt.b)(X.Search),Object(T.b)(this.debounce||300,this.scheduler||Pt.a),Object(T.e)(function(n){return n.payload}),Object(T.h)(function(n){if(""===n)return Object(Ft.a)();var t=o.actions$.pipe(Object(Mt.b)(X.Search),Object(T.g)(1));return o.googleBooks.searchBooks(n).pipe(Object(T.j)(t),Object(T.e)(function(n){return new z(n)}),Object(T.a)(function(n){return Object(ht.a)(new D(n))}))}))}return Object(It.a)([Object(Mt.a)(),Object(It.c)("design:type",St.a)],n.prototype,"search$",void 0),n}(),Et=l("hcYE"),Rt=l("qgI0"),Nt=l("lI6h"),qt=function(n){function t(t){n.call(this),this.observableFactory=t}return Object(It.b)(t,n),t.create=function(n){return new t(n)},t.prototype._subscribe=function(n){return new Xt(n,this.observableFactory)},t}(St.a),Xt=function(n){function t(t,l){n.call(this,t),this.factory=l,this.tryDefer()}return Object(It.b)(t,n),t.prototype.tryDefer=function(){try{this._callFactory()}catch(n){this._error(n)}},t.prototype._callFactory=function(){var n=this.factory();n&&this.add(Object(Rt.a)(this,n))},t}(Nt.a),Yt=qt.create,Tt=function(){function n(n,t){var l=this;this.actions$=n,this.db=t,this.openDB$=Yt(function(){return l.db.open("books_app")}),this.loadCollection$=this.actions$.pipe(Object(Mt.b)(ln.Load),Object(T.h)(function(){return l.db.query("books").pipe(Object(T.l)(),Object(T.e)(function(n){return new pn(n)}),Object(T.a)(function(n){return Object(ht.a)(new _n(n))}))})),this.addBookToCollection$=this.actions$.pipe(Object(Mt.b)(ln.AddBook),Object(T.e)(function(n){return n.payload}),Object(T.f)(function(n){return l.db.insert("books",[n]).pipe(Object(T.e)(function(){return new un(n)}),Object(T.a)(function(){return Object(ht.a)(new an(n))}))})),this.removeBookFromCollection$=this.actions$.pipe(Object(Mt.b)(ln.RemoveBook),Object(T.e)(function(n){return n.payload}),Object(T.f)(function(n){return l.db.executeWrite("books","delete",[n.id]).pipe(Object(T.e)(function(){return new sn(n)}),Object(T.a)(function(){return Object(ht.a)(new dn(n))}))}))}return Object(It.a)([Object(Mt.a)({dispatch:!1}),Object(It.c)("design:type",St.a)],n.prototype,"openDB$",void 0),Object(It.a)([Object(Mt.a)(),Object(It.c)("design:type",St.a)],n.prototype,"loadCollection$",void 0),Object(It.a)([Object(Mt.a)(),Object(It.c)("design:type",St.a)],n.prototype,"addBookToCollection$",void 0),Object(It.a)([Object(Mt.a)(),Object(It.c)("design:type",St.a)],n.prototype,"removeBookFromCollection$",void 0),n}(),Jt=l("3w/j"),zt=l("I511"),Dt=l("+75t"),Zt=l("yjNE"),Wt=l("IaGX");l.d(t,"BooksModuleNgFactory",function(){return Ut});var Ut=e._0(o,[],function(n){return e._10([e._11(512,e.j,e.W,[[8,[Tn,ut,st]],[3,e.j],e.v]),e._11(4608,m.l,m.k,[e.s,[2,m.r]]),e._11(4608,d.a,d.a,[]),e._11(4608,u.c,u.c,[]),e._11(6144,_.b,null,[h.b]),e._11(4608,_.c,_.c,[[2,_.b]]),e._11(4608,Dn.h,Dn.h,[d.a]),e._11(4608,Dn.g,Dn.g,[Dn.h,d.a,e.x]),e._11(136192,Dn.c,Dn.b,[[3,Dn.c],d.a]),e._11(5120,Dn.k,Dn.j,[[3,Dn.k],[2,Dn.i],d.a]),e._11(5120,Dn.f,Dn.d,[[3,Dn.f],e.x,d.a]),e._11(5120,dt.c,dt.a,[[3,dt.c],e.x,d.a]),e._11(5120,dt.g,dt.f,[[3,dt.g],d.a,e.x,dt.c]),e._11(4608,ft.d,ft.d,[dt.c,dt.g]),e._11(5120,ft.b,ft.e,[[3,ft.b]]),e._11(4608,ft.h,ft.h,[dt.g]),e._11(4608,ft.a,ft.a,[ft.d,ft.b,e.j,ft.h,e.g,e.p,e.x]),e._11(5120,ft.f,ft.g,[ft.a]),e._11(5120,pt.d,pt.a,[[3,pt.d],[2,_t.a],h.c]),e._11(4608,f.d,f.d,[]),e._11(4608,f.q,f.q,[]),e._11(4608,bt,bt,[qn.b,mt.a,B.m]),e._11(512,m.c,m.c,[]),e._11(512,d.b,d.b,[]),e._11(512,c.c,c.c,[]),e._11(512,s.b,s.b,[]),e._11(512,u.a,u.a,[]),e._11(512,_.a,_.a,[]),e._11(256,u.d,!0,[]),e._11(512,u.j,u.j,[[2,u.d]]),e._11(512,i.f,i.f,[]),e._11(512,u.v,u.v,[]),e._11(512,Dn.a,Dn.a,[]),e._11(512,zn.d,zn.d,[]),e._11(512,gt.b,gt.b,[]),e._11(512,dt.b,dt.b,[]),e._11(512,ft.c,ft.c,[]),e._11(512,yt.g,yt.g,[]),e._11(512,u.l,u.l,[]),e._11(512,u.t,u.t,[]),e._11(512,w.d,w.d,[]),e._11(512,pt.c,pt.c,[]),e._11(512,Ot.b,Ot.b,[]),e._11(512,p.b,p.b,[]),e._11(512,kt.a,kt.a,[]),e._11(512,f.o,f.o,[]),e._11(512,f.n,f.n,[]),e._11(512,B.p,B.p,[[2,B.v],[2,B.m]]),e._11(512,vt,vt,[]),e._11(512,jt,jt,[]),e._11(1024,Bt.f,function(){return[{key:"books",reducerFactory:xt.a,metaReducers:[],initialState:void 0}]},[]),e._11(1024,Bt.g,function(){return[{search:K,books:gn,collection:kn}]},[]),e._11(1024,Bt.h,function(n){return[n]},[Bt.g]),e._11(1024,Bt.a,function(n,t,l){return[wt.c(n,t,l)]},[e.p,Bt.g,Bt.h]),e._11(131584,wt.a,wt.a,[Bt.f,Bt.a,Ct.b,wt.b]),e._11(512,Lt,Lt,[Et.a,mt.a,[2,$t],[2,At]]),e._11(512,Tt,Tt,[Et.a,Jt.b]),e._11(1024,zt.a,function(n,t){return[Dt.a(n,t)]},[Lt,Tt]),e._11(512,Zt.a,Zt.a,[Wt.a,zt.a,[2,wt.b],[2,wt.a]]),e._11(512,o,o,[]),e._11(1024,B.k,function(){return[[{path:"find",component:Nn},{path:":id",component:et,canActivate:[bt]},{path:"",component:it}]]},[])])})}});